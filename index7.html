<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MessengerApp</title>

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.css"
      integrity="sha512-oe8OpYjBaDWPt2VmSFR+qYOdnTjeV9QPLJUeqZyprDEQvQLJ9C5PCFclxwNuvb/GQgQngdCXzKSFltuHD3eCxA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

  <body>
    <div class="container">
      <!-- .row>.col>(h1.display-4>lorem3)+hr -->
      <div class="row mb-3">
        <div class="col">
          <h1 class="display-4">Whatsapp Messenger</h1>
          <hr />
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div id="list" style="height: 600px">
            <!-- <div class="col-6">            
            <div class="alert alert-success" role="alert">
              Merhaba dünya
              <hr />
              Tarih:19/07/2022
            </div>
          </div>
          <div class="col-6">
            <div class="alert alert-success" role="alert">
              Merhaba dünya
              <hr />
              Tarih:19/07/2022
            </div>
          </div>
          <div class="col-6">
            <div class="alert alert-success" role="alert">
              Merhaba dünya
              <hr />
              <span id="time">Tarih:19/07/2022</span>
            </div>
          </div> -->
          </div>

          <div class="col mb-3">
            <label for="messagetext" class="form-label">Mesaj</label>
            <textarea class="form-control" id="messagetext" rows="3"></textarea>
          </div>
          <div class="col">
            <button
              id="buton"
              type="button"
              class="btn btn-primary float-end"
              onclick="addMessage()"
            >
              Gönder
            </button>
          </div>
        </div>
        <div class="col-4">
          <div id="list2">
            <!-- <div class="col card">
              <br />
              <span class="text-center">Mesaj Gönderildi</span>
              <br />
              <span class="text-center" id="mssg">Mesaj</span>
              <br />
            </div> -->
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
      integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"
      integrity="sha512-lbwH47l/tPXJYG9AcFNoJaTMhGvYWhVM9YI43CT+uteTRRaiLCui8snIgyAN8XWgNjNhCqlAUdzZptso6OCoFQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script>
      toastr.options = {
        closeButton: true,
        debug: false,
        newestOnTop: true,
        progressBar: true,
        positionClass: "toast-top-right",
        preventDuplicates: false,
        onclick: null,
        showDuration: "300",
        hideDuration: "1000",
        timeOut: "5000",
        extendedTimeOut: "1000",
        showEasing: "swing",
        hideEasing: "linear",
        showMethod: "fadeIn",
        hideMethod: "fadeOut",
      };

      function addMessage() {
        var message = $("#messagetext").val();
        var d = new Date();
        var datestring =
          " " +
          d.getHours() +
          ":" +
          d.getMinutes() +
          "  " +
          d.getDate() +
          "-" +
          (d.getMonth() + 1) +
          "-" +
          d.getFullYear();
        var a = datestring.toString();

        var item = $(`<div class="col">          
          <div class="col">
            <div class="alert alert-success" role="alert">
                <i class="fa-regular fa-thumbs-up ms-4 me-2 up" onclick="like(this)"></i>
                <i class="fa-regular fa-thumbs-down ms-4 me-2 down" onclick="like(this)"></i>
              <span class="mesaj">Merhaba dünya</span>
              <hr />
              Tarih : <span class="time"></span>
            </div>
          </div>
          </div>
        </div>`);

        item.find(".mesaj").text(message);
        item.find(".time").text(a);

        $("#list").append(item);

        toastr["success"](message, "Mesaj Gönderildi!");

        // var item2 = $(`<div class="col card alert alert-success">
        //             <br>
        //             <span class="text-center">Mesaj Gönderildi</span>
        //             <br>
        //             <span class="text-center mssgx"></span>
        //             <br>
        //         </div>`);

        // item2.find(".mssgx").text(message);

        // $("#list2").append(item2);
      }

      $("#messagetext").keydown(function (e) {
        if (e.ctrlKey && e.keyCode == 13) {
          addMessage();
        }
      });
      function like(icon) {
        $(icon).parent().find("i").addClass("fa-regular").removeClass("fa");
        
        $(icon).addClass("fa").removeClass("fa-regular");
      }
    </script>
  </body>
</html>
